---
id: line-equation

title: 直线方程
---

# 表达形式

## 一般式

一般式方程适用于所有直线：

```math
Ax + By + C = 0
```

假设：

- 直线上的两点为 $(x_0, y_0)$ 和 $(x_1, y_1)$ ；

直线方程为：

```math
(y_1 - y_0) x + (x_0 - x_1) y + x_1 y_0 - x_0 y_1 = 0
```

## 斜截式

斜截式方程适用于不垂直于 $x$ 轴的直线：

```math
kx + b = y
```

假设：

- 直线上的两点为 $(x_0, y_0)$ 和 $(x_1, y_1)$ ；
- 直线的斜率为 $k$ ；
- 直线的截距为 $b$ ；

直线的斜率和截距满足以下关系：

```math
k = \frac{y_1 - y_0}{x_1 - x_0}
```

```math
b = \frac{x_1 y_0 - x_0 y_1}{x_1 - x_0}
```

直线方程为：

```math
\frac{y_1 - y_0}{x_1 - x_0} x + \frac{x_1 y_0 - x_0 y_1}{x_1 - x_0} = y
```

## 点斜式

假设：

- 直线上的一点为 $(x_0, y_0)$ ；
- 直线的斜率为 $k$ ；

直线方程为：

```math
k(x - x_0) = y - y_0
```

# 距离计算

## 点到直线的距离

假设：

- 直线 $l$ 的方程为 $Ax + By + C = 0$ ；

向量 $k(A, B)$ 可以表示任意垂直于 $l$ 的向量，因此平面上任意一点可表示为 $(x, y) + k(A, B)$ ，其中 $(x, y)$ 为过该点的垂线与 $l$ 的交点。这种表示方式可以很方便地计算点到直线的距离：

```math
distance = k \sqrt{A^2 + B^2}
```

将 $(x, y) + k(A, B)$ 代入直线函数 $f(x, y) = Ax + By + C$ 中，可得：

```math
\begin{split}
  f(x + kA, y + kB)
  &=
  A x + B y + C + k (A^2 + B^2) \\
  &=
  k (A^2 + B^2)
\end{split}
```

假设点 $P$ 的坐标为 $(x_p, y_p)$ ，则点 $P$ 到 $l$ 的距离为：

```math
distance_{signed}
=
\frac{f(x_p, y_p)}{\sqrt{A^2 + B^2}}
```

注意这里的距离是有向距离，其正负号表示点 $P$ 在直线的哪一侧。

当 $(A, B)$ 为单位向量时，$f(x_p, y_p)$ 即为点 $P$ 到直线的有向距离。为了简便计算，直线方程可以表示为：

```math
\frac{y_1 - y_0}{\sqrt{(x_1 - x_0)^2 + (y_1 - y_0)^2}} x
+
\frac{x_0 - x_1}{\sqrt{(x_1 - x_0)^2 + (y_1 - y_0)^2}} y
+
\frac{x_1 y_0 - x_0 y_1}{\sqrt{(x_1 - x_0)^2 + (y_1 - y_0)^2}}
=
0
```
